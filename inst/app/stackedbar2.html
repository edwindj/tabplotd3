<!DOCTYPE html>
<html>
  <head>
    <title>Bar Chart</title>
    <script type="text/javascript" src="js/d3.min.js"></script>
    <script type="text/javascript" src="numericvar.js"></script>
    <style type="text/css">

body {
  font: 10px sans-serif;
}

svg {
  shape-rendering: crispEdges;
}

rect.panel {
   fill: #F1F1F1;
}

    </style>
  </head>
  <body>
    <script type="text/javascript">

var data = d3.range(100).map(Math.random);
var compl = d3.range(100).map(Math.random);


var w = 800,
    h = 600,
    x = d3.scale.linear()
       .domain([0, 1])
       .range([0, w]),
    y = d3.scale.ordinal()
       .domain(d3.range(data.length))
       .rangeBands([0, h]),
    z = d3.scale.linear()
       .domain([0, 1])
       .range(["white", "steelblue"]);

var vis = d3.select("body")
  .append("svg:svg")
    .attr("width", w + 40)
    .attr("height", h + 20)
  .append("svg:g")
    .attr("transform", "translate(20,0)");

var carat;
var vars;

var svgel = d3.select("svg");

d3.json("diamonds.json", function(json){
   vars = d3.keys(json.vars);
   
   sc_vars = d3.scale.ordinal()
        .domain(d3.range(vars.length))
        .rangeBands([0, w], 0.1);
   
   for (var i = 0; i < vars.length; i++){
      v = vars[i];
	  if (json.vars[v].mean){
       numvar(json.vars[v], svgel, sc_vars(i), sc_vars.rangeBand(), h, y, z);
     }
   }
   //carat = numvar(json.vars["carat"], svgel, sc_vars(1), sc_vars.rangeBand(), y, z);
   //alert(json.vars.carat.mean);
});

    </script>
  </body>
</html>
